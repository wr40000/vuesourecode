<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- <div id="app" style="color:skyblue;font-size: 15px;font-weight: 50;">
        {{arr[0]}}
        <span style="color:red">
            {{arr[3].JNTM}}  Terraria {{arr[1]}}
            <p>{{arr[2]}}</p>
        </span>
    </div> -->
    <!-- 我们可以给模板里的属性增加以一个收集器dep -->
    <!-- 页面渲染的时候 我们将渲染逻辑封装到watcher中  vm._updata(vm._render()) -->
    <!-- 让dep记住这个wetcher即可，稍后属性表变化了可以找到对应的dep中的存放的wetcher进行 -->
    <!-- 重新渲染 -->
    <div id="app" key="app" style="color:red;background-color:yellow;">
        <div style="color:red" key="div">
            {{arr[3].JNTM}} Terraria {{arr[3].JNTM}} Terraria
        </div>
        <span key="span">
            {{tool['铁皮药剂']}}{{name}}
        </span>
    </div>
    <script src="vue.js"></script>
    <!-- <script src="https://cdn.bootcdn.net/ajax/libs/vue/2.6.14/vue.js"></script> -->
    <script>
        // 数据监控
        // mixin
        Vue.mixin({
            created() {
                console.log("mixin1");
            },
            a: 1
        })
        Vue.mixin({
            created() {
                console.log("mixin2");
            }
        })
        const vm = new Vue({
            data() {
                return {
                    name: "随风",
                    work: "盗贼",
                    tool: {
                        "超亮火把": 689,
                        "铁皮药剂": 30
                    },
                    arr: ["FSX", "TONE", "DEAD", { "JNTM": "XHZ" }]
                }
            },
            // el: "#app",
            // template: '<div>蔡徐坤</div>'
            created() {
                console.log("mixin--self");
            },
        })
        vm.$mount('#app')

        // 下一步: 属性和我们的视图关联起来，做到数据变化可以自动更新视图(观察者模式)

        // 现在还需要在数据变化后手动调用vm_updata 和 vm._render方法
        // setTimeout(()=>{
        //     vm.tool['铁皮药剂']++;
        //     vm.tool['铁皮药剂']++;
        //     vm.tool['铁皮药剂']++;
        //     vm.tool['铁皮药剂']++;
        //     vm.tool['铁皮药剂']++;
        //     vm.tool['铁皮药剂']++;
        // },500)

        // vm.name = "5555"
        // console.log(app.innerHTML);     //打印的name并不是5555
        // setTimeout(()=>{
        //     console.log(app.innerHTML);     //放到定时器里就可以打印name是5555 
        // },0)
        // Promise.resolve().then(()=>{
        //         console.log(app.innerHTML); //同步获取 打印name是5555
        // })



        // nextTick不是创建了异步任务，而是将这个任务维护到了队列中而已
        // vm.name = "5555"
        // vm.$nextTick(()=>{
        //     console.log(app.innerHTML);
        // })

        // mixin
        console.log(vm.$options);


    </script>
</body>

</html>